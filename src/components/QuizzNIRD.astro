---
const questions = [
  {
    question: "Que signifie l’acronyme NIRD ?",
  options: ["Numérique Inclusif, Responsable et Durable", "Nouveau Internet Révolutionnaire Durable", "Numérique Intégré, Réutilisable et Distribué"],
  answer: "Numérique Inclusif, Responsable et Durable"
  },
  {
    question: "Quel est un avantage du logiciel libre ?",
    options: [
      "On peut l'étudier et le modifier",
      "Il appartient à une seule entreprise",
      "Il consomme toujours plus de ressources"
    ],
    answer: "On peut l'étudier et le modifier"
  },
  {
    question: "Quel est un des objectifs de NIRD concernant le matériel informatique ?",
  options: [
    "Acheter du matériel neuf chaque année",
    "Reconditionner du matériel et prolonger la durée de vie des ordinateurs",
    "Utiliser uniquement des tablettes propriétaires"
  ],
  answer: "Reconditionner du matériel et prolonger la durée de vie des ordinateurs"
  }, { question: "Quel système d’exploitation est souvent utilisé dans le cadre de NIRD pour favoriser le libre ?",
    options: [
      "Windows 10",
      "GNU/Linux ou distributions libres",
      "macOS"
    ],
    answer: "GNU/Linux ou distributions libres"
  },
  {
  question: "Quel est l’objectif principal de NIRD lorsqu’il encourage le reconditionnement du matériel informatique dans les établissements scolaires ?",
  options: [
    "Augmenter les dépenses informatiques des établissements",
    "Forcer les élèves à utiliser uniquement certains logiciels",
    "Réduire l’empreinte écologique tout en facilitant l’accès au numérique"
  ],
  answer: "Réduire l’empreinte écologique tout en facilitant l’accès au numérique"
}
];
---
<section class="quiz">
  <h2>Quiz : Connais-tu la démarche NIRD&nbsp;?</h2>

    <canvas id="c"></canvas>
    <script src="../assets/mainthree.js"></script>

  <div
    id="quiz-container"
    data-questions={JSON.stringify(questions)}
  >
    <p id="question"></p>
    <div id="options"></div>
    <p id="feedback"></p>
    <button id="next" style="display:none;">Question suivante</button>
  </div>
  <script src="../assets/quizzNIRD.js"></script>
</section>

<style>
/* --- Configuration de base --- */
#c {
  display: flex;
  justify-self: center;
  align-self: center;
  position: absolute;
  left: 0;
  top: 0;
  z-index: -1;
  width: 100%;
  height: 100%;
  border-radius: 20px;

  overflow: hidden;
  /* display: none; Ou block si tu veux le fond Three.js */
}

/* --- Conteneur du Quiz --- */
.quiz {
  max-width: 700px;
  margin: 2rem auto;
  padding: 1.8rem;

  /* Style Glassmorphism Global */
  background: rgba(20, 20, 20, 0.6);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);

  border-radius: 20px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 20px 50px rgba(0,0,0,0.5);

  color: white;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  text-align: center;
  user-select: none;
}

/* --- Titre --- */
.quiz h2 {
  font-size: 2rem;
  font-weight: 700;
  margin-top: 0;
  color: rgba(255, 255, 255, 0.9);
  text-transform: uppercase;
  letter-spacing: 2px;
  text-shadow: 0 2px 10px rgba(0,0,0,0.5);
}

/* --- Question --- */
#question {
  font-size: 1.2rem;
  font-weight: 500;
  /* margin-bottom: 1rem; */
  color: #fff;
  line-height: 1.2;
  min-height: 1.3em;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* --- Liste des options --- */
#options {
  display: flex;
  flex-direction: column;
  gap: 15px;
  margin-bottom: 20px;
  /* background: red; */
}

/* --- Boutons de réponse (.opt) --- */
.opt {
  padding: 15px 20px;
  font-size: 1rem;
  text-align: left; /* Plus lisible pour les longues phrases */
  cursor: pointer;
  transition: all 0.2s ease;
  padding: 30px;

  /* Style Verre Sombre */
  background: rgba(255, 255, 255, 0.05);
  background-color: blue;
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  color: rgba(255, 0, 0, 0.8);
  position: relative;
  overflow: hidden;
}

.opt:hover {
  background: rgba(255, 255, 255, 0.15);
  border-color: rgba(255, 255, 255, 0.3);
  transform: translateX(5px); /* Petit mouvement vers la droite */
  color: white;
  box-shadow: 0 4px 15px rgba(0,0,0,0.2);
}

/* Gestion du focus/active */
.opt:active {
  transform: scale(0.98);
}

/* --- Zone de Feedback (Réponse juste/fausse) --- */
#feedback {
  padding: 15px;
  margin-top: 15px;
  border-radius: 12px;
  font-weight: bold;
  font-size: 1.1rem;
  min-height: 20px;
  opacity: 0; /* Caché par défaut */
  transform: translateY(10px);
  transition: all 0.3s ease;
  backdrop-filter: blur(5px);
}

/* Quand le feedback a du contenu */
#feedback:not(:empty) {
  opacity: 1;
  transform: translateY(0);
}

/* Bonne réponse : Vert vitré */
#feedback.good {
  background-color: rgba(46, 204, 113, 0.2);
  border: 1px solid rgba(46, 204, 113, 0.4);
  color: #2ecc71;
  box-shadow: 0 0 15px rgba(46, 204, 113, 0.1);
}

/* Mauvaise réponse : Rouge vitré */
#feedback.bad {
  background-color: rgba(231, 76, 60, 0.2);
  border: 1px solid rgba(231, 76, 60, 0.4);
  color: #ff6b6b;
  box-shadow: 0 0 15px rgba(231, 76, 60, 0.1);
}

/* --- Bouton Suivant --- */
#next {
  /* margin-top: 1rem; */
  padding: 12px 30px;
  font-size: 1rem;
  font-weight: bold;
  border-radius: 50px; /* Pill shape */
  border: 1px solid rgba(255, 255, 255, 0.2);
  cursor: pointer;
  transition: all 0.3s;

  /* Fond neutre vitré qui s'allume au survol */
  background: rgba(255, 255, 255, 0.1);
  color: white;
  backdrop-filter: blur(4px);
}

#next:hover {
  background: rgba(255, 255, 255, 0.25);
  transform: translateY(-2px);
  box-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
}
</style>